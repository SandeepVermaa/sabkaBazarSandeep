(()=>{var t,e={727:(t,e,r)=>{"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function a(t){return function(t){if(Array.isArray(t))return n(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var o,c=r(861),i=r(757),s=r.n(i),l=(r(967),r(616)),u=r.n(l),d=r(121),p=r.n(d),f=r(853),m=r(238),y=r(43),v=r.n(y),h=[{name:"Home",link:"/"},{name:"Products",link:"/products.html"}],g=[{name:"SignIn",link:"/signin.html"},{name:"Register",link:"/register.html"}],b=[],w=0;function E(){document.querySelector(".cart-overlay").classList.toggle("show"),q()}function S(){document.querySelector(".cart-overlay").classList.remove("show")}function O(t){var e=t.target.dataset.id,r=t.target.dataset.action,n=b.find((function(t){return t.id===e}));"plus"===r?(n.quantity+=1,n.totalPrice=n.quantity*n.price):(n.quantity-=1,n.totalPrice=n.quantity*n.price,n.quantity<=0&&(b=b.filter((function(t){return t.quantity>0})))),localStorage.setItem("cartItems",JSON.stringify(b)),L(),q()}function q(){var t=0;b.forEach((function(e){e.totalPrice=e.price*e.quantity,t+=e.totalPrice}));var e={cartNotEmpty:w>0?"hidden":"",cartEmpty:w<=0?"hidden":"",itemCount:w,cartItems:b,totalItemsCost:t},r=v()(e);document.querySelector(".cart-overlay").innerHTML=r,document.querySelector(".cart-close--icon").addEventListener("click",S),document.querySelectorAll(".btn-quantity").forEach((function(t){t.addEventListener("click",O)}))}function L(){b=JSON.parse(localStorage.getItem("cartItems"))||[],w=b&&b.length?b.length:0,o&&(o.innerHTML=w)}function k(t,e,r,n){return fetch("http://localhost:3000/"+t,{method:e,body:JSON.stringify(r),headers:n})}var P,I=[],x={categories:[],products:[],selectedCategoryName:"All Products"};function j(){return C.apply(this,arguments)}function C(){return C=(0,c.Z)(s().mark((function t(){var e,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k("products","GET");case 3:return e=t.sent,t.next=6,e.json();case 6:return r=t.sent,t.abrupt("return",r);case 10:t.prev=10,t.t0=t.catch(0),console.log("Error: ",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])}))),C.apply(this,arguments)}function N(){return T.apply(this,arguments)}function T(){return(T=(0,c.Z)(s().mark((function t(){var e,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k("categories","GET");case 3:return e=t.sent,t.next=6,e.json();case 6:return(r=t.sent)&&r.length&&(r=r.filter((function(t){return t.enabled})).sort((function(t,e){return t.order-e.order}))),t.abrupt("return",r);case 11:t.prev=11,t.t0=t.catch(0),console.log("Error: ",t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))).apply(this,arguments)}function A(){document.querySelector(".category-dropdown-list").classList.toggle("show")}function M(t){if(t&&t.target&&t.target.dataset&&t.target.dataset.id){var e=t.target.dataset.id;x.products&&(x.products=I.filter((function(t){return t.category===e}))),function(t){P&&P.srcElement?P.srcElement.classList.remove("active"):P&&P.classList.remove("active");if(t&&t.srcElement)t.srcElement.classList.add("active"),P=t,x.selectedCategoryName=t.srcElement.innerHTML;else{document.querySelectorAll(".category-list-btn").forEach((function(e){e.dataset.id===t.target.dataset.id&&(e.classList.add("active"),P=e,x.selectedCategoryName=e.innerHTML)}))}}(t),r=p()(x),document.querySelector(".product-list-container").innerHTML=r,H(),document.querySelector(".category-dropdown-btn").innerHTML=x.selectedCategoryName}var r}function H(){document.querySelectorAll(".buy-btn").forEach((function(t){t.addEventListener("click",J)}))}function J(t){var e=t.target.dataset.id,r=I.find((function(t){return t.id===e})),n=JSON.parse(localStorage.getItem("cartItems"));if(n&&n.length){var a=n.find((function(t){return t.id===e}));a?(a.quantity+=1,a.totalPrice=a.quantity*a.price,localStorage.setItem("cartItems",JSON.stringify(n))):(r.quantity=1,r.totalPrice=r.quantity*r.price,n.push(r),localStorage.setItem("cartItems",JSON.stringify(n)))}else{var o=[];r.quantity=1,r.totalPrice=r.quantity*r.price,o.push(r),localStorage.setItem("cartItems",JSON.stringify(o))}L(),function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=document.createElement("div");r.id="snackbar",r.textContent=t,r.className=e?"showToast error":"showToast",document.body.appendChild(r),setTimeout((function(){r.remove()}),3e3)}("Item added to cart")}function R(){return(R=(0,c.Z)(s().mark((function t(){var e,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j();case 2:return I=t.sent,x.products=a(I),t.next=6,N();case 6:x.categories=t.sent,(e=document.getElementById("products"))&&(e.innerHTML=u()(x),document.querySelectorAll(".category-list-btn").forEach((function(t){t.addEventListener("click",M)})),document.querySelector(".category-dropdown-btn").addEventListener("click",A),document.querySelectorAll(".category-dropdown-list-btn").forEach((function(t){t.addEventListener("click",(function(t){M(t),A()}))})),H()),(r=new URLSearchParams(location.search)).has("productID")&&M({target:{dataset:{id:r.get("productID")}}});case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}document.addEventListener("DOMContentLoaded",(function(){!function(t){h.forEach((function(e){e.name===t?e.status="active":e.status=""})),g.forEach((function(e){e.name===t?e.status="active":e.status=""}));var e=document.getElementById("header");e&&(e.innerHTML=m({navList:h,navAuth:g}),document.querySelector(".cart-btn button").addEventListener("click",E),o=document.querySelector("#cartItemsLength"),L())}("Products"),f.S(),function(){R.apply(this,arguments)}()}))},121:(t,e,r)=>{var n=r(202);t.exports=(n.default||n).template({1:function(t,e,r,n,a){var o=t.lambda,c=t.escapeExpression,i=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'  <div class="product">\r\n    <div class="product-title">'+c(o(null!=e?i(e,"name"):e,e))+'</div>\r\n    <div class="product-image">\r\n      <img\r\n        class="img-responsive"\r\n        src="'+c(o(null!=e?i(e,"imageURL"):e,e))+'"\r\n        alt="Image of '+c(o(null!=e?i(e,"name"):e,e))+'"\r\n      />\r\n    </div>\r\n    <div class="product-description">\r\n      '+c(o(null!=e?i(e,"description"):e,e))+'\r\n    </div>\r\n    <div class="product-cart">\r\n      <div class="price">MRP Rs.'+c(o(null!=e?i(e,"price"):e,e))+'</div>\r\n      <button\r\n        class="btn buy-btn"\r\n        type="button"\r\n        data-id="'+c(o(null!=e?i(e,"id"):e,e))+'"\r\n        aria-label="Click the Buy Now button to buy product"\r\n      >\r\n        Buy Now\r\n        <span class="buy-btn-price">@ Rs.'+c(o(null!=e?i(e,"price"):e,e))+'</span>\r\n      </button>\r\n    </div>\r\n    <div class="separator"></div>\r\n  </div>\r\n'},compiler:[8,">= 4.3.0"],main:function(t,e,r,n,a){var o,c=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return null!=(o=c(r,"each").call(null!=e?e:t.nullContext||{},null!=e?c(e,"products"):e,{name:"each",hash:{},fn:t.program(1,a,0),inverse:t.noop,data:a,loc:{start:{line:1,column:0},end:{line:28,column:9}}}))?o:""},useData:!0})},616:(t,e,r)=>{var n=r(202);t.exports=(n.default||n).template({1:function(t,e,r,n,a){var o=t.lambda,c=t.escapeExpression,i=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'          <button\r\n            class="category-list-btn"\r\n            data-id="'+c(o(null!=e?i(e,"id"):e,e))+'"\r\n          >'+c(o(null!=e?i(e,"name"):e,e))+"</button>\r\n"},3:function(t,e,r,n,a){var o=t.lambda,c=t.escapeExpression,i=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'            <button\r\n              class="category-dropdown-list-btn"\r\n              data-id="'+c(o(null!=e?i(e,"id"):e,e))+'"\r\n            >'+c(o(null!=e?i(e,"name"):e,e))+"</button>\r\n"},compiler:[8,">= 4.3.0"],main:function(t,e,n,a,o){var c,i=null!=e?e:t.nullContext||{},s=t.lookupProperty||function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]};return'<section class="container products-container">\r\n  <div class="row">\r\n    <div class="category-container">\r\n      <div class="category-list">\r\n'+(null!=(c=s(n,"each").call(i,null!=e?s(e,"categories"):e,{name:"each",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o,loc:{start:{line:5,column:8},end:{line:10,column:17}}}))?c:"")+'      </div>\r\n      <div class="category-dropdown">\r\n        <button class="category-dropdown-btn">\r\n          '+t.escapeExpression(t.lambda(null!=e?s(e,"selectedCategoryName"):e,e))+'\r\n        </button>\r\n        <div class="category-dropdown-list">\r\n'+(null!=(c=s(n,"each").call(i,null!=e?s(e,"categories"):e,{name:"each",hash:{},fn:t.program(3,o,0),inverse:t.noop,data:o,loc:{start:{line:17,column:10},end:{line:22,column:19}}}))?c:"")+'        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class="product-list-container">\r\n'+(null!=(c=t.invokePartial(r(121),e,{name:"productList",data:o,indent:"      ",helpers:n,partials:a,decorators:t.decorators}))?c:"")+"    </div>\r\n  </div>\r\n</section>"},usePartial:!0,useData:!0})}},r={};function n(t){var a=r[t];if(void 0!==a)return a.exports;var o=r[t]={id:t,exports:{}};return e[t](o,o.exports,n),o.exports}n.m=e,t=[],n.O=(e,r,a,o)=>{if(!r){var c=1/0;for(u=0;u<t.length;u++){for(var[r,a,o]=t[u],i=!0,s=0;s<r.length;s++)(!1&o||c>=o)&&Object.keys(n.O).every((t=>n.O[t](r[s])))?r.splice(s--,1):(i=!1,o<c&&(c=o));if(i){t.splice(u--,1);var l=a();void 0!==l&&(e=l)}}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[r,a,o]},n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={893:0};n.O.j=e=>0===t[e];var e=(e,r)=>{var a,o,[c,i,s]=r,l=0;if(c.some((e=>0!==t[e]))){for(a in i)n.o(i,a)&&(n.m[a]=i[a]);if(s)var u=s(n)}for(e&&e(r);l<c.length;l++)o=c[l],n.o(t,o)&&t[o]&&t[o][0](),t[c[l]]=0;return n.O(u)},r=self.webpackChunkcode_exercise=self.webpackChunkcode_exercise||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})();var a=n.O(void 0,[39,105,870],(()=>n(727)));a=n.O(a)})();